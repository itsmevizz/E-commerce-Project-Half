<div class="form-modal">

  <div class="form-toggle">
    <div>
      <a href="/user-login"><button id="login-toggle" style="color: black;">log in</button></a>
    </div>
    <div>
      <button id="signup-toggle" style="color: red;">sign up</button>
    </div>
  </div>

  <div>
    <form action="/user-signUp" method="post">
      <span class="text-center">
        <p>SIGN UP WITH EMAIL</p>
      </span>
      <label class="form-label mb-1" style="font-family: Kokoro; font-size: 15px;">EMAIL ADDRESS :</label>
      <span id="email-error" class="text-danger"></span>
      <input type="email" name="Email" id="email" placeholder="Enter your email" onkeyup="validateEmail()" />
      <label class="form-label mb-1 text-uppercase" style="font-family: Kokoro; font-size: 15px;">Name :</label>
      <span id="name-error" class="text-danger"> </span>
      <input type="text" name="Name" id="name" placeholder="Choose username" onkeyup="validateName()" />
      <label class="form-label mb-1 text-uppercase" style="font-family: Kokoro; font-size: 15px;">Password :</label>
      <span id="password-error" class="text-danger"></span>
      <input type="password" name="Password" id="password" placeholder="Create password" onkeyup="validatePassword()" />
      <label class="form-label mb-1 text-uppercase" style="font-family: Kokoro; font-size: 15px;">Mobile Number:</label>
      <span id="number-error" class="text-danger"></span>
      <input type="text" name="Number" id="number" placeholder="Mobile number" maxlength="10"
        onkeyup="validateNumber()" />
      <button type="submit" class="btn signup mt-3" onclick="return validateForm()" id="submit">create account</button>
      <span id="submit-error" class="text-danger ms-3"></span>
      {{#if failed}}
      <span class="text-danger ms-3">{{failed}}</span>
      {{/if}}
    </form>
  </div>

</div>
<script>
  var nameError = document.getElementById('name-error');
  var nameOk = document.getElementById("done");
  var emailError = document.getElementById('email-error');
  var passwordError = document.getElementById('password-error');
  var submitError = document.getElementById('submit-error');
  var numberError = document.getElementById('number-error')


  function validateName() {
    var name = document.getElementById('name').value;

    if (name.length == 0) {
      nameError.innerHTML = 'Name cannot be empty';
      return false;
    }
    if (!name.match(/^[A-Za-z]{3,12}$/)) {
      nameError.innerHTML = 'please enter a valid name';
      return false;
    }


    nameError.innerHTML = '';
    return true;
  }

  function validateEmail() {
    var email = document.getElementById('email').value;

    if (email.length == 0) {
      emailError.innerHTML = 'Email is required'
      return false;
    }
    if (!email.match(/^[A-Za-z\._\-[0-9]*[@][A-Za-z]*[\.][com]{3}$/)) {
      emailError.innerHTML = 'Email invalid'
      return false;
    }
    emailError.innerHTML = '';
    return true;
  }

  function validatePassword() {
    var password = document.getElementById('password').value;

    if (!password.match(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/)) {
      passwordError.innerHTML = 'Minimum eight characters, at least one letter and one number';
      return false;
    }

    passwordError.innerHTML = '';
    return true;
  }
  function validateNumber() {
    var number = document.getElementById('number').value;
    if (!number.match(/^(\+\d{1,3}[- ]?)?\d{10}$/)) {
      numberError.innerHTML = 'Invalid Number'
      return false;
    }
    numberError.innerHTML = ''
    return true;
  }
  function validateForm() {
    if (!validateName() || !validateEmail() || !validatePassword() || !validateNumber()) {

      submitError.innerHTML = 'Please fill  and submit';
      setTimeout(function () { submitError.innerHTML = ''; }, 3000);
      return false;
    }

    submitError.innerHTML = '';
    return true;

  }

</script>
<style>
  body {
    background: #C4C4C4;
  }
</style>